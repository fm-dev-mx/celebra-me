@use 'variables' as vars;
@use '../global/mixins' as mixins;

.family {
	position: relative;
	background-color: vars.$color-white;
	padding: 8rem 0; // Increased for solemnity
	overflow: hidden;

	&::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 1px;
		background: linear-gradient(90deg, transparent, rgba(vars.$color-primary, 0.3), transparent);
	}

	&-bg-texture {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		opacity: 0.05;
		pointer-events: none;
		// More organic noise texture for a premium paper/shimmer look
		background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
		filter: contrast(150%) brightness(100%);
	}

	&__header {
		text-align: center;
		margin-bottom: 5rem;
		opacity: 0;
		transform: translateY(20px);
		transition: all 1s cubic-bezier(0.4, 0, 0.2, 1);

		.family.is-visible & {
			opacity: 1;
			transform: translateY(0);
		}
	}

	&__suptitle {
		display: block;
		font-family: vars.$font-decorative-calligraphy;
		font-size: 2.2rem;
		color: vars.$color-primary;
		margin-bottom: 0.5rem;
		text-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
	}

	&__title-main {
		font-family: vars.$font-heading-elegant;
		font-size: clamp(2.2rem, 6vw, 3.5rem);
		color: vars.$color-dark;
		text-transform: uppercase;
		letter-spacing: 0.15em; // More spacing for premium look
		font-weight: 300;
	}

	&__grid {
		display: grid;
		grid-template-columns: 1fr;
		gap: 4rem;
		align-items: center;

		@include mixins.respond-to(lg) {
			grid-template-columns: 1fr auto 1fr;
			gap: 3rem;
		}
	}

	&__card {
		opacity: 0;
		transform: translateY(30px);
		transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1);

		.family.is-visible & {
			opacity: 1;
			transform: translateY(0);
		}

		&--left {
			transition-delay: 0.2s;
			@include mixins.respond-to(lg) {
				text-align: right;
			}
		}

		&--right {
			transition-delay: 0.4s;
			@include mixins.respond-to(lg) {
				text-align: left;
			}
		}
	}

	&__card-inner {
		background: rgba(vars.$color-whitest, 0.5);
		backdrop-filter: blur(12px);
		padding: 3rem;
		border-radius: 2rem;
		// Double border effect for jewelry feel
		border: 1px solid rgba(vars.$color-primary, 0.2);
		box-shadow:
			0 15px 35px -12px rgba(0, 0, 0, 0.08),
			inset 0 0 30px rgba(vars.$color-whitest, 0.6),
			inset 0 0 2px rgba(vars.$color-primary, 0.1);
		position: relative;
		overflow: hidden;

		&::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 5px;
			background: linear-gradient(90deg, transparent, vars.$color-primary, transparent);
			opacity: 0.4;
		}
	}

	&__card-subtitle {
		font-family: vars.$font-heading-formal;
		font-size: 1.35rem;
		color: vars.$color-primary;
		margin-bottom: 2rem;
		letter-spacing: 0.1em;
		text-transform: uppercase;
	}

	&__names-list {
		display: flex;
		flex-direction: column;
		gap: 1.5rem;
	}

	&__name-item {
		opacity: 0;
		transform: translateY(10px);
		transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
		transition-delay: calc(0.6s + (var(--index) * 0.1s));

		.family.is-visible & {
			opacity: 1;
			transform: translateY(0);
		}

		p {
			font-family: vars.$font-subtitle-refined;
			font-size: 1.65rem;
			color: vars.$color-dark;
			line-height: 1.1;
			letter-spacing: 0.02em;
		}
	}

	&__name {
		font-family: vars.$font-subtitle-refined;
		font-size: 1.65rem;
		font-weight: 500;
		color: vars.$color-dark;
		letter-spacing: 0.02em;
	}

	&__role {
		display: block;
		font-family: vars.$font-body;
		font-size: 0.8rem;
		text-transform: uppercase;
		letter-spacing: 0.2em; // Extra spacing for roles
		color: rgba(vars.$color-dark, 0.5);
		margin-top: 0.5rem;
		font-variant-caps: all-small-caps; // Formal flair
	}

	&__image-column {
		display: flex;
		justify-content: center;
		opacity: 0;
		transform: scale(0.9);
		transition: all 1.5s cubic-bezier(0.4, 0, 0.2, 1);
		transition-delay: 0.3s;
		order: -1;

		@include mixins.respond-to(lg) {
			order: 0;
		}

		.family.is-visible & {
			opacity: 1;
			transform: scale(1);
		}
	}

	&__image-container {
		position: relative;
		width: 100%;
		max-width: 340px;
		padding: 15px;
	}

	&__image-frame {
		aspect-ratio: 3 / 4;
		border-radius: 9999px;
		overflow: hidden;
		// Gold rim effect
		border: 2px solid rgba(vars.$color-primary, 0.4);
		box-shadow:
			0 25px 50px -12px rgba(0, 0, 0, 0.25),
			inset 0 0 15px rgba(0, 0, 0, 0.1);
		z-index: 2;
		position: relative;

		img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			transition: transform 3s ease-in-out;
		}

		&:hover img {
			transform: scale(1.05);
		}
	}

	&__image-decoration {
		position: absolute;
		top: -5px;
		left: -5px;
		right: -5px;
		bottom: -5px;
		border: 1px solid rgba(vars.$color-primary, 0.2);
		border-radius: 9999px;
		z-index: 1;
		pointer-events: none;

		// Sparkle dots around the frame
		&::before, &::after {
			content: '';
			position: absolute;
			width: 6px;
			height: 6px;
			background: vars.$color-primary;
			border-radius: 50%;
			opacity: 0.6;
			box-shadow: 0 0 10px vars.$color-primary;
		}

		&::before {
			top: -3px;
			left: 50%;
			transform: translateX(-50%);
		}

		&::after {
			bottom: -3px;
			left: 50%;
			transform: translateX(-50%);
		}
	}
}
