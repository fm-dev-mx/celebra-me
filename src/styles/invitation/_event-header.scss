@use 'sass:color';
@use '../global/mixins' as mixins;
@use '../tokens' as tokens;
@use '../tokens/primitives' as primitives;

/*
 * Block: .event-header
 * Specific styles for the Invitation Page Header
 * Supports dynamic theming via CSS variables
 */

.event-header {
	// Branding / Breadcrumbs
	&__title {
		font-family: var(--font-display, tokens.$font-display-elegant);
		font-size: 1.25rem;
		font-weight: tokens.$font-weight-bold;
		text-decoration: none;
		color: var(--color-action-accent);
		transition: tokens.$transition-snappy;
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
		max-width: 200px;
		letter-spacing: 0.1em;
		text-transform: uppercase;
		text-shadow: var(--header-nav-shadow-transparent);

		@media (width >= 768px) {
			max-width: 400px;
			font-size: 1.5rem;
		}

		&:hover {
			opacity: 100%;
			filter: brightness(1.1);
		}
	}

	// Guest Actions (RSVP, Map, etc.)
	&__actions {
		display: flex;
		align-items: center;
		gap: 0.5rem;

		@media (width >= 768px) {
			gap: 1rem;
		}
	}

	&__action-btn {
		text-decoration: none;
		font-family: tokens.$font-ui;
		font-size: 0.85rem;
		font-weight: tokens.$font-weight-semibold;
		padding: 0.5rem 1.25rem;
		border-radius: 4px;
		transition: tokens.$transition-snappy;
		color: var(--header-nav-color);
		letter-spacing: 0.05em;
		text-transform: uppercase;

		&:hover {
			color: var(--color-action-accent);
			background-color: rgb(var(--color-surface-primary-rgb), 0.05);
		}

		&--cta {
			background: linear-gradient(
				145deg,
				var(--color-action-accent) 0%,
				#{color.adjust(primitives.$base-gold-500, $lightness: -10%, $space: hsl)} 100%
			);
			color: var(--color-text-primary);
			border-radius: 2px;
			box-shadow: 0 2px 8px rgb(0 0 0 / 20%);
			border: 1px solid rgb(255 255 255 / 10%);

			&:hover {
				background: linear-gradient(
					145deg,
					#{color.adjust(primitives.$base-gold-500, $lightness: 5%, $space: hsl)} 0%,
					var(--color-action-accent) 100%
				);
				transform: translateY(-1px);
				color: var(--color-text-primary);
				box-shadow: var(--header-luxury-cta-glow, 0 4px 12px var(--color-glass-shadow));
			}
		}
	}
}

// Mobile Menu Content for Event
.event-mobile-nav {
	text-align: center;
	width: 100%;

	a {
		font-family: tokens.$font-display-formal;
		font-size: 1.8rem;
		color: tokens.$color-text-primary;
		text-decoration: none;
		display: block;
		padding: 15px 0;
		border-bottom: 1px solid tokens.$color-border-subtle;
		transition: tokens.$transition-snappy;

		&:last-child {
			border-bottom: none;
		}

		&:hover {
			color: tokens.$color-action-accent;
		}
	}
}

/*
 * Theme-aware contrast enforcement
 * Uses variables defined in _header-theme.scss which change based on theme preset
 */

/*
 * Theme-aware contrast enforcement
 * Uses variables defined in _header-theme.scss
 */
.header-base--transparent {
	.event-header__title,
	.event-header__action-btn:not(.event-header__action-btn--cta) {
		opacity: 80%;
		color: var(--header-nav-color-transparent) !important;
		text-shadow: var(--header-nav-shadow-transparent) !important;
		filter: var(--header-nav-filter-transparent) !important;
	}
}

.event-header__action-btn:not(.event-header__action-btn--cta) {
	color: var(--header-nav-color);
}

// Hide header until the envelope reveal completes (when enabled)
:global(.event-theme-wrapper--sealed) #event-header {
	transition: opacity tokens.$duration-slower tokens.$ease-in-out;
}

:global(body:not(.invitation-revealed)) .event-theme-wrapper--sealed #event-header {
	opacity: 0%;
	pointer-events: none;
}

:global(body.invitation-revealed) .event-theme-wrapper--sealed #event-header {
	opacity: 100%;
	pointer-events: auto;
}
