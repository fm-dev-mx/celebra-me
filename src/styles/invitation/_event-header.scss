@use '../global/mixins' as mixins;
@use '../tokens' as tokens;

/*
 * Block: .event-header
 * Specific styles for the Invitation Page Header
 * Supports dynamic theming via CSS variables
 */

.event-header {
	// Branding / Breadcrumbs
	&__title {
		font-family: tokens.$font-display-elegant;
		font-size: 1.25rem;
		font-weight: tokens.$font-weight-bold;
		text-decoration: none;
		color: tokens.$color-action-accent;
		transition: tokens.$transition-snappy;
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
		max-width: 200px;

		@media (min-width: 768px) {
			max-width: 400px;
			font-size: 1.5rem;
		}

		&:hover {
			opacity: 0.8;
		}
	}

	// Guest Actions (RSVP, Map, etc.)
	&__actions {
		display: flex;
		align-items: center;
		gap: 0.5rem;

		@media (min-width: 768px) {
			gap: 1rem;
		}
	}

	&__action-btn {
		text-decoration: none;
		font-family: tokens.$font-ui;
		font-size: 0.85rem;
		font-weight: tokens.$font-weight-semibold;
		padding: 0.5rem 1rem;
		border-radius: 4px;
		transition: tokens.$transition-snappy;
		color: tokens.$color-text-primary;

		&:hover {
			color: tokens.$color-action-accent;
			background-color: rgba(var(--color-surface-primary-rgb), 0.5);
		}

		&--cta {
			background-color: tokens.$color-action-accent;
			color: tokens.$color-text-on-dark;
			border-radius: 50px;

			&:hover {
				background-color: tokens.$color-action-accent;
				transform: translateY(-1px);
				color: tokens.$color-text-on-dark;
			}
		}
	}
}

// Mobile Menu Content for Event
.event-mobile-nav {
	text-align: center;
	width: 100%;

	a {
		font-family: tokens.$font-display-formal;
		font-size: 1.8rem;
		color: tokens.$color-text-primary;
		text-decoration: none;
		display: block;
		padding: 15px 0;
		border-bottom: 1px solid tokens.$color-border-subtle;
		transition: tokens.$transition-snappy;

		&:last-child {
			border-bottom: none;
		}

		&:hover {
			color: tokens.$color-action-accent;
		}
	}
}

:global(.header-base--transparent) {
	.event-header__title,
	.event-header__action-btn:not(.event-header__action-btn--cta) {
		color: #ffffff;
		text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
	}
}

// Hide header until the envelope reveal completes (when enabled)
:global(.event-theme-wrapper--sealed) #event-header {
	transition: opacity tokens.$duration-slower tokens.$ease-in-out;
}

:global(body:not(.invitation-revealed)) .event-theme-wrapper--sealed #event-header {
	opacity: 0;
	pointer-events: none;
}

:global(body.invitation-revealed) .event-theme-wrapper--sealed #event-header {
	opacity: 1;
	pointer-events: auto;
}
