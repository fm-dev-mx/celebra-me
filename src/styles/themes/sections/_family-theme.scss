@use '../../global/mixins' as mixins;
@use '../../tokens' as tokens;
@use '../../tokens/primitives' as primitives;

// =====================================================================
// FAMILY SECTION THEMES
// =====================================================================

.family[data-variant='jewelry-box'] {
	--family-bg: radial-gradient(circle at 50% -20%, #fffdfc 0%, var(--color-surface-primary) 100%);
	--family-panel-bg: rgb(var(--color-surface-primary-rgb), 0.82);
	--family-border: rgb(var(--color-action-accent-rgb), 0.24);
	--family-text-primary: var(--color-surface-dark);
	--family-text-muted: rgb(var(--color-surface-dark-rgb), 0.7);
	--family-accent: var(--color-action-accent);
	--family-divider: linear-gradient(
		90deg,
		transparent,
		rgb(var(--color-action-accent-rgb), 0.35),
		transparent
	);
	--family-shadow: 0 20px 46px rgb(91 67 41 / 18%);
	--family-media-filter: sepia(0.12) contrast(1.04) brightness(1.01);

	.family__bg-texture {
		opacity: 12%;
		background-image:
			radial-gradient(
				circle at 20% 10%,
				rgb(var(--color-action-accent-rgb), 0.16) 0%,
				transparent 42%
			),
			radial-gradient(
				circle at 85% 85%,
				rgb(var(--color-action-accent-rgb), 0.1) 0%,
				transparent 45%
			);
	}

	.family__group-title {
		letter-spacing: 0.14em;
	}
}

.family[data-variant='luxury-hacienda'] {
	// The Grand Ledger: Visual Theme Tokens
	--family-bg: #fdfcf9; // High-quality parchment
	--family-texture-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23926d48' fill-opacity='0.03' fill-rule='evenodd'%3E%3Cpath d='M0 40L40 0H20L0 20M40 40V20L20 40'/%3E%3C/g%3E%3C/svg%3E");
	--family-texture-opacity: 1;
	--family-panel-bg: transparent;
	--family-border: rgb(146 109 72 / 18%);
	--family-text-primary: #1a1410; // Near black for authority
	--family-text-muted: #5d4a3a;
	--family-accent: #926d48; // Bronze Bruni
	--family-shadow: none; // Editorial ledger doesn't use digital shadows
	--family-divider: linear-gradient(
		90deg,
		transparent 0%,
		rgb(146 109 72 / 40%) 50%,
		transparent 100%
	);
	--family-media-filter: sepia(0.05) contrast(1.02) brightness(0.99);
	--family-group-title-font: #{tokens.$font-display-formal}; // Cinzel
	--family-name-font: #{tokens.$font-display-hacienda}; // Cormorant
	--family-ledger-display: block;

	position: relative;
	padding: clamp(6.5rem, 11vw, 10rem) 0;

	// Background Materiality
	&::before {
		content: '';
		position: absolute;
		inset: 0;
		pointer-events: none;
		background: radial-gradient(
			circle at 50% 50%,
			rgb(255 255 255 / 0%) 0%,
			rgb(146 109 72 / 4%) 100%
		);
	}

	.family__header {
		text-align: center;
		margin-bottom: 5rem;
	}

	.family__eyebrow {
		font-family: tokens.$font-ui;
		font-size: 0.7rem;
		font-weight: 500;
		letter-spacing: 0.3em;
		color: var(--family-accent);
		margin-bottom: 1.25rem;
	}

	.family__title {
		font-family: tokens.$font-display-formal; // Cinzel for authority
		font-size: clamp(2.2rem, 5.2vw, 3.8rem);
		font-weight: 400;
		letter-spacing: 0.05em;
		text-transform: uppercase;
		max-width: 14ch;
		margin-inline: auto;
		line-height: 1;
		color: var(--family-text-primary);
	}

	.family__header-divider {
		height: 1px;
		width: 100px;
		background: var(--family-accent);
		opacity: 30%;
		margin-top: 2rem;
	}

	.family__panel {
		border: none;
		background: transparent;
		box-shadow: none;
		padding: 0;
		gap: clamp(2rem, 5vw, 4rem);
	}

	.family__media-frame {
		border-radius: 0; // Editorial look uses sharp corners
		border: 1px solid var(--family-border);
		padding: 12px;
		background: #fff;
		box-shadow: 0 15px 35px rgb(0 0 0 / 6%);

		img {
			border: 1px solid rgb(0 0 0 / 5%);
		}
	}

	.family__frame-accent {
		inset: 0;
		border: 1px solid var(--family-accent);
		opacity: 20%;
	}

	.family__group {
		padding-block: 2.5rem;
	}

	.family__group + .family__group::before {
		background: var(--family-divider);
		height: 1px;
		opacity: 60%;
		animation: none; // Removed sheen
	}

	.family__group-title {
		font-family: tokens.$font-display-formal;
		font-size: 0.85rem;
		font-weight: 700;
		letter-spacing: 0.25em;
		color: var(--family-accent);
		margin-bottom: 2rem;
	}

	.family__item {
		gap: 0.4rem;
	}

	.family__name {
		font-family: tokens.$font-display-hacienda;
		font-size: clamp(1.6rem, 3.5vw, 2.3rem);
		font-weight: 400;
		letter-spacing: 0.01em;
		color: var(--family-text-primary);
	}

	.family__meta {
		font-family: tokens.$font-ui;
		font-size: 0.65rem;
		font-weight: 600;
		text-transform: uppercase;
		letter-spacing: 0.2em;
		color: var(--family-text-muted);
	}

	.family__connector {
		font-family: tokens.$font-calligraphy;
		font-size: 2.2rem;
		color: var(--family-accent);
		margin-block: -0.2rem;
		opacity: 80%;
	}

	@include mixins.respond-to(md) {
		.family__header {
			text-align: center; // Forced center for the Ledger concept
		}

		.family__title {
			margin-inline: auto;
		}
	}

	@include mixins.respond-to(lg) {
		.family__panel {
			grid-template-columns: 0.45fr 0.55fr;
			align-items: center;
		}
	}
}

@media (prefers-reduced-motion: reduce) {
	.family[data-variant='luxury-hacienda'] {
		.family__group + .family__group::before {
			animation: none;
		}
	}
}
