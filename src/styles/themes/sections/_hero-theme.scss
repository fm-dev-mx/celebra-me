@use '../../tokens' as tokens;

// ==========================================================================
// JEWELRY BOX HERO
// ==========================================================================

.invitation-hero[data-variant='jewelry-box'] {
	.invitation-hero__background::after {
		background:
			radial-gradient(
				circle at 50% 40%,
				transparent 0%,
				rgb(0 0 0 / 40%) 60%,
				rgb(0 0 0 / 80%) 100%
			),
			linear-gradient(to bottom, transparent 0%, rgb(0 0 0 / 20%) 50%, rgb(0 0 0 / 70%) 100%);
	}

	.invitation-hero__content {
		background: radial-gradient(
			circle at center,
			rgb(255 255 255 / 70%) 0%,
			rgb(255 255 255 / 50%) 100%
		);
		backdrop-filter: blur(24px) saturate(200%);
		border: 1px solid rgb(var(--color-action-accent-rgb), 0.45);
		box-shadow:
			0 30px 60px -12px rgb(0 0 0 / 35%),
			inset 0 0 0 1px rgb(255 255 255 / 50%),
			inset 0 0 20px rgb(var(--color-action-accent-rgb) / 5%);
		padding: 4rem 2.5rem;
		position: relative;
		overflow: hidden;

		&::after {
			content: '';
			position: absolute;
			inset: 0;
			background: var(--light-sweep);
			background-size: 200% 100%;
			animation: light-sweep 6s infinite tokens.$ease-in-out;
			pointer-events: none;
		}

		&::before {
			content: '';
			position: absolute;
			inset: 7px;
			border: 0.5px solid rgb(var(--color-action-accent-rgb) / 20%);
			pointer-events: none;
			z-index: 1;
		}
	}

	.invitation-hero__label {
		color: rgb(var(--color-action-accent-rgb), 0.8);
		text-shadow: 0 2px 4px rgb(0 0 0 / 20%);
		letter-spacing: 0.4em;
		font-weight: 600;
	}

	.invitation-hero__title {
		font-weight: 400;
		background: linear-gradient(
			to bottom,
			#f1e1b9 0%,
			var(--color-action-accent) 25%,
			#a67c37 50%,
			var(--color-action-accent) 75%,
			#f1e1b9 100%
		);
		background-size: 100% 200%;
		background-clip: text;
		-webkit-text-fill-color: transparent;
		text-shadow: none;
		filter: drop-shadow(0 4px 8px rgb(0 0 0 / 25%));
		animation:
			fadeInSlideUp tokens.$duration-premium tokens.$ease-out 1s forwards,
			gold-foil 8s tokens.$ease-in-out infinite;
		margin: 0.2rem 0;
		-webkit-text-stroke: 0.2px rgb(255 255 255 / 10%);
	}

	.invitation-hero__divider {
		width: 80px;
		height: 1px;
		background: linear-gradient(90deg, transparent, var(--color-action-accent), transparent);
		margin: 2rem auto;
		position: relative;
		opacity: 50%;

		&::after {
			content: 'âœ¨';
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			font-size: 0.8rem;
			padding: 0 10px;
			color: var(--color-action-accent);
			opacity: 80%;
		}
	}

	.invitation-hero__date,
	.invitation-hero__venue {
		color: var(--color-surface-dark);
		text-shadow: 0 1px 2px rgb(255 255 255 / 50%);
		font-weight: 400;
		letter-spacing: 0.05em;
	}

	.calligraphy-accent {
		font-family: var(--font-calligraphy);
		font-size: 1.8rem;
		color: var(--color-action-accent);
		vertical-align: middle;
		margin-right: 0.3rem;
		text-shadow: none;
	}
}

// Support for Revealed/Sealed Animation in Jewelry Box
body.invitation-revealed
	.theme-preset--jewelry-box.event-theme-wrapper--sealed
	.invitation-hero[data-variant='jewelry-box']
	.invitation-hero__title {
	animation:
		fadeInSlideUp tokens.$duration-premium tokens.$ease-out 0.7s forwards,
		gold-foil 8s tokens.$ease-in-out infinite;
}

// ==========================================================================
// LUXURY HACIENDA HERO
// ==========================================================================

.invitation-hero[data-variant='luxury-hacienda'] {
	.invitation-hero__background::after {
		background:
			radial-gradient(
				circle at 50% 34%,
				transparent 12%,
				rgb(var(--color-text-primary-rgb), 0.36) 58%,
				rgb(var(--color-surface-dark-rgb), 0.88) 100%
			),
			linear-gradient(
				to bottom,
				rgb(0 0 0 / 8%) 0%,
				rgb(0 0 0 / 24%) 46%,
				rgb(0 0 0 / 76%) 100%
			);
		background-blend-mode: normal, normal;
		opacity: 100%;
	}

	.invitation-hero__content {
		background: var(--hero-card-bg-overlay), var(--hero-card-bg);
		border: 1px solid transparent;
		border-image: linear-gradient(
				145deg,
				var(--hero-card-border-old-gold-start),
				var(--hero-card-border-old-gold-mid) 52%,
				var(--hero-card-border-old-gold-end)
			)
			1;
		backdrop-filter: blur(16px) saturate(140%) contrast(108%);
		border-radius: 5px;
		position: relative;
		overflow: hidden;
		box-shadow:
			var(--hero-card-inner-glow), var(--hero-card-shadow-contact),
			var(--hero-card-shadow-ambient);

		&::before {
			content: '';
			position: absolute;
			inset: 1px;
			border: 0.5px solid var(--hero-card-border-hairline);
			pointer-events: none;
			z-index: 1;
		}

		&::after {
			content: '';
			position: absolute;
			inset: 0;
			opacity: 18%;
			pointer-events: none;
			background-image:
				url("data:image/svg+xml,%3Csvg viewBox='0 0 220 220' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='heroNoise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23heroNoise)' opacity='1'/%3E%3C/svg%3E"),
				radial-gradient(circle at 18% 12%, rgb(255 238 202 / 16%), transparent 45%),
				radial-gradient(circle at 80% 84%, rgb(0 0 0 / 24%), transparent 48%);
			background-size:
				180px 180px,
				100% 100%,
				100% 100%;
			mix-blend-mode: soft-light;
			z-index: 0;
		}
	}

	.invitation-hero__title {
		font-family: var(--font-display-hacienda, serif);
		font-weight: 700;
		text-transform: uppercase;
		letter-spacing: 0.065em;
		line-height: 1.03;
		text-shadow: var(--hero-title-shadow-near), var(--hero-title-shadow-far);
		background: linear-gradient(
			95deg,
			var(--hero-title-color-start) 0%,
			var(--hero-title-color-mid) 48%,
			var(--hero-title-color-end) 100%
		);
		background-clip: text;
		color: transparent;
		background-size: 170% auto;
		animation: shimmer 6.8s tokens.$ease-in-out infinite 1.6s;
		margin: 0.35rem 0 0.5rem;
	}

	.invitation-hero__label {
		color: var(--hero-label-color);
		letter-spacing: 0.48em;
		font-weight: 700;
		font-size: clamp(0.88rem, 2.4vw, 1.08rem);
		text-shadow: var(--hero-label-shadow);
		margin-bottom: 0.35rem;
	}

	.invitation-hero__divider {
		width: 96px;
		height: 1px;
		background: var(--hero-divider-color);
		opacity: 0%;
		transform: scaleX(0);
		animation: growLine 1.15s tokens.$ease-premium 1.28s forwards;
	}

	.invitation-hero__nickname-badge {
		display: inline-block;
		margin-top: 1.15rem;
		padding: 0.52rem 1.55rem 0.58rem;
		background: var(--hero-badge-bg);
		color: var(--hero-badge-text);
		border: 1px solid var(--hero-badge-border);
		border-radius: 8px;
		font-family: var(--font-display-hacienda, serif);
		font-size: clamp(0.94rem, 2.8vw, 1.1rem);
		font-weight: 650;
		text-transform: uppercase;
		transform: rotate(-2deg);
		box-shadow: var(--hero-badge-shadow);
		position: relative;
		z-index: 10;
		letter-spacing: 0.12em;
		transition:
			transform tokens.$duration-snappy tokens.$ease-premium,
			box-shadow tokens.$duration-standard tokens.$ease-premium;

		&::before {
			content: '';
			position: absolute;
			inset: 2px;
			border-radius: 6px;
			border: 0.5px solid rgb(244 219 168 / 45%);
			pointer-events: none;
		}

		&::after {
			content: '';
			position: absolute;
			inset: -3px;
			border-radius: 9px;
			border: 1px solid rgb(189 145 69 / 35%);
			background: linear-gradient(
				130deg,
				rgb(0 0 0 / 14%),
				transparent 45%,
				rgb(255 235 194 / 10%)
			);
			opacity: 100%;
			z-index: -1;
			pointer-events: none;
		}

		&:hover,
		&:focus-visible {
			transform: rotate(-1deg) translateY(-1px);
			box-shadow:
				0 13px 22px rgb(0 0 0 / 45%),
				inset 0 1px 0 rgb(255 236 202 / 22%),
				inset 0 -1px 0 rgb(34 23 14 / 74%);
			outline: none;
		}

		&:focus-visible {
			border-color: rgb(246 224 180 / 95%);
			box-shadow:
				0 0 0 2px rgb(55 38 23 / 88%),
				0 0 0 4px rgb(211 171 92 / 70%),
				0 13px 22px rgb(0 0 0 / 45%);
		}
	}

	.invitation-hero__details {
		gap: 0.78rem;
		margin-top: 0.25rem;
	}

	.invitation-hero__date,
	.invitation-hero__time,
	.invitation-hero__venue {
		color: var(--hero-meta-color);
		text-shadow: 0 2px 6px rgb(0 0 0 / 35%);
	}

	.invitation-hero__date {
		font-size: clamp(1rem, 2.8vw, 1.18rem);
		letter-spacing: 0.16em;
		font-weight: 600;
	}

	.invitation-hero__venue {
		margin-top: 0.72rem;
		font-size: clamp(1rem, 2.9vw, 1.16rem);
		letter-spacing: 0.04em;
		font-style: normal;
	}

	.invitation-hero__venue .calligraphy-accent {
		color: rgb(239 214 164 / 90%);
		font-family: var(--font-body, serif);
		font-weight: 500;
		font-size: 0.9em;
		font-style: italic;
		margin-right: 0.36rem;
	}

	@media (width <= 540px) {
		.invitation-hero__content {
			backdrop-filter: blur(14px) saturate(132%) contrast(106%);
		}

		.invitation-hero__label {
			letter-spacing: 0.35em;
		}

		.invitation-hero__nickname-badge {
			padding-inline: 1.2rem;
			letter-spacing: 0.1em;
		}
	}
}

// ==========================================================================
// KEYFRAMES
// ==========================================================================

@keyframes gold-foil {
	0%,
	100% {
		background-position: 0% 0%;
	}

	50% {
		background-position: 0% 100%;
	}
}

@keyframes light-sweep {
	0% {
		background-position: 200% 0;
	}

	100% {
		background-position: -200% 0;
	}
}

@keyframes shimmer {
	0% {
		background-position: -200% center;
	}

	100% {
		background-position: 200% center;
	}
}

@keyframes grow-line {
	from {
		width: 0;
		opacity: 0%;
	}

	to {
		width: 80px;
		opacity: 100%;
	}
}
