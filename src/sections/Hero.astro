---
// src/sections/Hero.astro
// This component represents the Hero section of the website, displaying the logo, slogan and a call-to-action.

import Action from "@/components/common/Action.astro";
import ActionWrapper from "@/components/common/ActionWrapper.astro";
import Section from "@/components/layout/Section.astro";
import StyledContainer from "@/components/layout/StyledContainer.astro";
import type { Icon as IconType } from "@/config/landing.interface";
import SectionTitle from "@/components/typography/SectionTitle.astro";
import SectionSubtitle from "@/components/typography/SectionSubtitle.astro";
import WhatsAppButton from "@/components/ui/WhatsAppButton";

// Define the expected data structure for the Hero component
interface HeroData {
	icon?: IconType;
	title: string;
	subtitle: string;
	primaryCta: string;
	secondaryCta: string;
}

interface Props {
	data: HeroData;
}

const { data } = Astro.props;
---

<Section
	id="hero-section"
	backgroundImageDesktop="/images/hero/bgHeroDesktop.jpg"
	backgroundImageMobile="/images/hero/bgHeroMobile.jpg"
	padding="py-20"
	relative="relative"
	fullWidth
	fullHeight
>
	<!-- Overlay for styling and layout adjustments -->
	<StyledContainer
		padding="py-14"
		width="w-5/6 md:w-5xl"
		minWidth="min-w-[300px]"
		maxWidth="max-w-[700px]"
		margin="m-auto"
		verticalAlign="items-center"
		horizontalAlign="justify-center"
		backgroundColor="bg-white"
		shadow="shadow-2xl"
		opacity="opacity-80"
		rounded="rounded-2xl"
		extraClasses="text-center"
	>
		<!-- Title with responsive settings and animation -->
		<SectionTitle
			margin="mb-0"
			align="text-center"
			size="text-lg sm:text-xl md:text-2xl lg:text-3xl"
			color="text-primary-dark/80"
			weight="font-light"
			extraClass="slide-in-left shadow-text-light tracking-widest"
		>
			{data.title}
		</SectionTitle>

		<!-- Responsive logo with accessibility enhancements -->
		<div class="shimmer permanent-glow">
			<img
				src="/images/hero/rectangleLogo400x200.png"
				srcset="/images/hero/rectangleLogo200x100.png 200w,
                 /images/hero/rectangleLogo250x125.png 250w,
                 /images/hero/rectangleLogo300x150.png 300w,
                 /images/hero/rectangleLogo350x175.png 360w,
                 /images/hero/rectangleLogo400x200.png 400w"
				sizes="(max-width: 480px) 200px,
               (max-width: 640px) 250px,
               (max-width: 768px) 300px,
               (max-width: 1024px) 360px,
               400px"
				alt="Logo celebra-me.com"
				class="mx-auto mb-2"
			/>
		</div>
		<!-- Subtitle for additional context with animation and styles -->
		<SectionSubtitle
			size="text-lg sm:text-xl md:text-2xl lg:text-3xl"
			align="text-center"
			weight="font-normal"
			color="text-accent-dark"
			margin="mx-12 mx-auto"
			extraClass="font-sans shadow-text-light tracking-widest fade-in fade-slow"
		>
			{data.subtitle}
		</SectionSubtitle>

		<!-- CTA Buttons for main actions -->
		<ActionWrapper margin="mt-24" gap="gap-4 sm:gap-6">
			<WhatsAppButton client:idle />
			<Action
				minWidth="min-w-[180px] sm:min-w-[140px]"
				variant="primary"
				color="secondary"
				href="#"
			>
				{data.secondaryCta}
			</Action>
		</ActionWrapper>

		<!-- Scroll button directing users to the next section -->
		<Action
			variant="scroll"
			href="#services-section"
			title="Ir a secciÃ³n de Servicios"
			icon="ArrowDownIcon"
			color="primary"
		/>
	</StyledContainer>
</Section>

<style>
	/* Background settings to ensure optimal loading and display */
	#hero-section {
		background-size: cover;
		background-position: center;
	}

	@media (min-width: 768px) {
		#hero-section {
			background-image: url("/images/hero/bgHeroDesktop.jpg");
		}
	}

	@media (max-width: 767px) {
		#hero-section {
			background-image: url("/images/hero/bgHeroMobile.jpg");
		}
	}

	/* Enhance user experience with smooth scrolling */
	html {
		scroll-behavior: smooth;
	}
</style>
