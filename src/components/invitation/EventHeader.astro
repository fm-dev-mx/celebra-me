---
/**
 * src/components/invitation/EventHeader.astro
 *
 * Invitation Page implementation of the Header.
 * Context-aware: Uses event theme and guest-specific links.
 * Uses premium NavBarMobile for consistent mobile UX.
 */

import HeaderBase from '@components/common/HeaderBase.astro';
import NavBarMobile from '@components/ui/header/NavBarMobile.tsx';
import {navigation} from '@content/events/demo-xv.json';
import '@styles/invitation/_event-header.scss';

export interface Props {
    eventName?: string;
    theme?: {
        primaryColor: string;
        accentColor?: string;
        fontDisplay?: string;
    };
    links?: {
        label: string;
        href: string
    }[];
}

const {
    eventName = 'Boda de Ale & Fer',
    theme = { primaryColor: '#C5A059', accentColor: '#E8DCC2' }, // Default Gold
    links = navigation
} = Astro.props;


// Prepare CSS variables for inline style or scope
const themeStyles = `
    --theme-color-primary: ${theme.primaryColor};
    --theme-color-primary-dark: ${theme.primaryColor}CC;
    --theme-color-accent: ${theme.accentColor || theme.primaryColor};
`;
---

<HeaderBase transparentOnHero={true} headerId="event-header" hideMobileToggle={true}>
    <div slot="logo" style={themeStyles}>
        <a href="#" class="event-header__title">
            {eventName}
        </a>
    </div>

    <div slot="desktop-nav" class="event-header__actions" style={themeStyles}>
        {links.map((link) => (
            <a href={link.href} class={`event-header__action-btn ${link.href === '#rsvp' ? 'event-header__action-btn--cta' : ''}`}>
                {link.label}
            </a>
        ))}
    </div>

    <!-- SLOT: Premium Mobile Nav (React) -->
    <div slot="mobile-nav-premium">
        <NavBarMobile client:load links={links} headerId="event-header" />
    </div>
</HeaderBase>
