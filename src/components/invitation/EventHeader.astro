---
/**
 * src/components/invitation/EventHeader.astro
 *
 * Invitation Page implementation of the Header.
 * Context-aware: Uses event theme and guest-specific links.
 * Uses premium NavBarMobile for consistent mobile UX.
 */

import HeaderBase from '@components/common/HeaderBase.astro';
import NavBarMobile from '@components/ui/header/NavBarMobile.tsx';
import {navigation} from '@content/events/demo-xv.json';
import '@styles/invitation/_event-header.scss';

export interface Props {
    eventName?: string;
    theme?: {
        primaryColor: string;
        accentColor?: string;
        fontDisplay?: string;
    };
    links?: {
        label: string;
        href: string
    }[];
}

const {
    eventName = 'Boda de Ale & Fer',
    theme = { primaryColor: '#C5A059', accentColor: '#E8DCC2' }, // Default Gold
    links = navigation
} = Astro.props;


// Prepare CSS variables for inline style or scope
const themeColorPrimary = theme.primaryColor;
const themeColorPrimaryDark = `${theme.primaryColor}CC`;
const themeColorAccent = theme.accentColor || theme.primaryColor;
---

<HeaderBase transparentOnHero={true} headerId="event-header" hideMobileToggle={true}>
	<div slot="logo">
		<a href="#" class="event-header__title">
			{eventName}
		</a>
	</div>

	<div slot="desktop-nav" class="event-header__actions">
		{
			links.map((link) => (
				<a
					href={link.href}
					class:list={[
						'event-header__action-btn',
						{ 'event-header__action-btn--cta': link.href === '#rsvp' }
					]}
				>
					{link.label}
				</a>
			))
		}
	</div>

	<!-- SLOT: Premium Mobile Nav (React) -->
	<div slot="mobile-nav-premium">
		<NavBarMobile client:load links={links} headerId="event-header" />
	</div>
</HeaderBase>

<style define:vars={{ themeColorPrimary, themeColorPrimaryDark, themeColorAccent }}>
	.event-header__title,
	.event-header__actions {
		--theme-color-primary: var(--themeColorPrimary);
		--theme-color-primary-dark: var(--themeColorPrimaryDark);
		--theme-color-accent: var(--themeColorAccent);
	}
</style>
