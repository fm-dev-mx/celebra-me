---
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface Props {
	imagePath: ImageMetadata | string | null | undefined;
	alt: string;
	rounded?: string;
	width?: number;
	height?: number;
	class?: string;
}

const { imagePath, alt, rounded = '', width = 350, height = 350, class: className } = Astro.props;
---

{
	imagePath ? (
		typeof imagePath === 'string' ? (
			<Image
				src={imagePath as string}
				alt={alt}
				width={width}
				height={height}
				class:list={[rounded, className]}
			/>
		) : (
			<Image
				src={imagePath as ImageMetadata}
				alt={alt}
				width={width}
				height={height}
				class:list={[rounded, className]}
			/>
		)
	) : (
		<div
			class:list={['bg-gray-300 flex items-center justify-center', rounded, className]}
			style={`width: ${width}px; height: ${height}px;`}
		>
			<span class="text-xs text-gray-500">{alt}</span>
		</div>
	)
}
