---
// src/components/xv/Family.astro
import Container from '@components/layout/Container.astro';
import Section from '@components/layout/Section.astro';
import OptimizedImage from '@components/common/OptimizedImage.astro';
import SectionTitle from '@components/typography/SectionTitle.astro';

// Import stylesheet
import '@/styles/xv/_family.scss';

interface Props {
	parents: {
		father?: string;
		mother?: string;
	};
	godparents?: Array<{
		name: string;
		role?: string;
	}>;
	featuredImage?: string;
	celebrantName: string;
}

const { parents, godparents, featuredImage, celebrantName } = Astro.props;
---

<Section id="family-section" class="family">
	<Container>
		<div class="family__title-wrapper">
			<SectionTitle color="text-secondary-dark" weight="font-light">
				Con la bendici√≥n de nuestros padres y padrinos
			</SectionTitle>
		</div>

		<div class="family__grid">

			{/* Parents Column */}
			<div class="family__column family__column--left">
				<h3 class="family__title">Padres de {celebrantName}</h3>
				<div class="family__list">
					{parents.mother && (
						<div class="family__item">
							<p>{parents.mother}</p>
						</div>
					)}
					{parents.father && (
						<div class="family__item">
							<p>{parents.father}</p>
						</div>
					)}
				</div>
			</div>

			{/* Featured Image (Middle) */}
			{featuredImage && (
				<div class="family__image-wrapper">
					<div class="family__image-frame">
						<OptimizedImage
							imagePath={featuredImage}
							alt={celebrantName}
							width={400}
							height={533}
						/>
					</div>
				</div>
			)}

			{/* Godparents Column */}
			{godparents && godparents.length > 0 && (
				<div class="family__column family__column--right">
					<h3 class="family__title">Nuestros Padrinos</h3>
					<div class="family__list">
						{godparents.map((godparent) => (
							<div class="family__item">
								<p class="family__item-name">{godparent.name}</p>
								{godparent.role && (
									<p class="family__item--role">{godparent.role}</p>
								)}
							</div>
						))}
					</div>
				</div>
			)}
		</div>
	</Container>
</Section>
