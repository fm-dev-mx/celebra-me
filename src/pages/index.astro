---
// src/pages/index.astro
import { getLandingData, getSiteData } from "@/backend/services/data.service";
import Layout from "@/layouts/Layout.astro";
import Header from "@/sections/Header.astro";
import Hero from "@/sections/Hero.astro";
import Services from "@/sections/Services.astro";
import AboutUs from "@/sections/AboutUs.astro";
import Testimonials from "@/sections/Testimonials.astro";
import Pricing from "@/sections/Pricing.astro";
import FAQ from "@/sections/FAQ.astro";
import Contact from "@/sections/Contact.astro";
import Footer from "@/sections/Footer.astro";

// Fetch landing page data synchronously
const landingData = getLandingData();
const siteData = getSiteData();
---

<!-- Render the layout with site metadata -->
<Layout meta={siteData.meta} />

<!-- Render the header with menu and social data -->
<Header menuData={landingData.menuData} socialData={landingData.socialData} />

<main>
	<!-- Render main sections with respective data -->
	<Hero data={landingData.heroData} />
	<Services data={landingData.servicesData} />
	<AboutUs data={landingData.aboutData} />
	<Testimonials data={landingData.testimonialsData} />
	<Pricing data={landingData.pricingData} />
	<FAQ data={landingData.faqData} />
	<Contact data={landingData.contactData} />

	<!-- Render the footer with site info, menu, and social links -->
	<Footer
		siteData={siteData}
		menuData={landingData.menuData}
		socialData={landingData.socialData}
	/>
</main>
